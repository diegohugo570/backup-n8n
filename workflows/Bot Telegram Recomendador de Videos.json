{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Message a model1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model1": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-11-01T14:01:15.973Z",
  "id": "4FZs0bXYV9EO2n8F",
  "isArchived": false,
  "meta": null,
  "name": "Bot Telegram Recomendador de Videos",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -208,
        64
      ],
      "id": "fcb0d5f2-4e6f-4192-b8a6-40544b5a1e2c",
      "name": "Telegram Trigger",
      "webhookId": "a60ff677-5719-4b63-96ca-77884d7ea7cf"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "messages": {
          "values": [
            {
              "content": "=Transforme a dúvida do usuário em uma query curta para buscar no YouTube.\nExemplo: \"como automatizar emails com n8n\" → \"n8n automação emails\".\n\nDúvida:  {{ $json.message.text }}\nRetorne apenas a query."
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        0,
        64
      ],
      "id": "ef9a83db-06f2-42ce-a92e-4b51552afecf",
      "name": "Message a model"
    },
    {
      "parameters": {
        "url": "https://www.googleapis.com/youtube/v3/search",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "part",
              "value": "snippet"
            },
            {
              "name": "channelId",
              "value": "UC70mr11REaCqgKke7DPJoLg"
            },
            {
              "name": "q",
              "value": "={{ $json.content.parts[0].text }}"
            },
            {
              "name": "maxResults",
              "value": "5"
            },
            {
              "name": "key"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        352,
        64
      ],
      "id": "ed265d6c-7dd9-4d30-84a9-b7cd9a514d52",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "messages": {
          "values": [
            {
              "content": "=A partir desta lista de vídeos do canal Programação Dinâmica no YouTube (com título, descrição e link).\nResponda essa dúvida:{{ $('Message a model').item.json.content.parts[0].text }} .\n\nEscolha os 3 vídeos da lista que melhor respondem à dúvida. Para cada um, explique o porque da recomendação. (1 frase curta)\nRetorne no formato de texto, organizando as recomedações em tilulo, link e motivo da recomendação. Gere o link dos conteúdos a partir do id, se for vídeo ou playlis, identifique e crie a url, a partir dos ids fornecidos na lista de vídeos. \n\nComece a resposta com: \"Legal! Selecionei esses vídeos que vão te ajudar a estudar este assunto.\"\n\nLista de vídeos (em JSON):\n{{ $json[\"items\"].toJsonString() }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        560,
        64
      ],
      "id": "3621de44-74de-4e73-af44-28ae2ad4aeca",
      "name": "Message a model1"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "={{ $json.content.parts[0].text }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        912,
        64
      ],
      "id": "09100871-3cec-4135-8a10-fe0a1ba1e91c",
      "name": "Send a text message",
      "webhookId": "ae31a4ba-3a6e-43c2-b704-779f2293e9e1"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-11-01T14:01:15.973Z",
      "createdAt": "2025-11-01T14:01:15.973Z",
      "role": "workflow:owner",
      "workflowId": "4FZs0bXYV9EO2n8F",
      "projectId": "o60HadikmqrvYZ9Z"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-11-01T14:01:15.973Z",
  "versionId": "394199e5-d4cc-460f-be9f-58415812c7cf"
}