{
  "active": false,
  "activeVersion": null,
  "activeVersionId": null,
  "connections": {
    "Create Video": {
      "main": [
        [
          {
            "node": "Wait for Veo3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Video": {
      "main": [
        [
          {
            "node": "Log Final Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait for Veo3": {
      "main": [
        [
          {
            "node": "Get Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Add Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Sheets": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Create Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-08-29T20:48:54.195Z",
  "id": "QhS19xBLq1RYEE6Y",
  "isArchived": false,
  "meta": null,
  "name": "CRIAR_V√çDEOS_VIRAIS_VEO3_COM_FAL_AI_",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {}
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        880,
        240
      ],
      "id": "e6dd23dd-964e-440e-b9a9-14855b2e142a",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "description": "Sempre use essa ferramenta para pensar sobre algo. Ela n√£o obter√° novas informa√ß√µes nem alterar√° o banco de dados, apenas anexar√° o pensamento ao registro. Use-a quando for necess√°rio racioc√≠nio complexo ou alguma mem√≥ria cache."
      },
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1,
      "position": [
        1680,
        80
      ],
      "id": "b9038c39-d546-4bfb-8d45-8fa3f60bea9e",
      "name": "Think"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://queue.fal.run/fal-ai/veo3",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendBody": true,
        "contentType": "raw",
        "rawContentType": "application/json",
        "body": "={ \"prompt\": \"{{ $json.output }}\" }",
        "options": {
          "batching": {
            "batch": {
              "batchSize": 1,
              "batchInterval": 2000
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1200,
        480
      ],
      "id": "fde970a4-8619-4f69-9996-c906d80b62e4",
      "name": "Create Video"
    },
    {
      "parameters": {
        "url": "=https://queue.fal.run/fal-ai/veo3/requests/{{ $json.request_id }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        1520,
        480
      ],
      "id": "22ca55a6-9a57-444c-bcb8-8a86bdcf6b7f",
      "name": "Get Video"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "16xf34Rc-TWs7rUCSFAsIS_1zaodLQsjN5dTaWMGlZOE",
          "mode": "list",
          "cachedResultName": "n6 | Veo3 in n8n Tutorial [click \"File\" > \"Make a copy\"]",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/16xf34Rc-TWs7rUCSFAsIS_1zaodLQsjN5dTaWMGlZOE/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1FgwtfdRV3WqRo_nrGOYjmV2zqvb2MY_oAxCDi3HgeZA/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "idea": "={{ $('Add Sheets').first().json.idea }}",
            "production": "done",
            "final_output": "={{ $json.video.url }}"
          },
          "matchingColumns": [
            "idea"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "idea",
              "displayName": "idea",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "caption",
              "displayName": "caption",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "production",
              "displayName": "production",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "environment_prompt",
              "displayName": "environment_prompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "final_output",
              "displayName": "final_output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1360,
        704
      ],
      "id": "940c5bcc-c1e5-4a31-9afb-28e4d27d9b4f",
      "name": "Log Final Video"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4.1",
          "mode": "list",
          "cachedResultName": "gpt-4.1"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1072,
        80
      ],
      "id": "63fe1ae4-7a78-4e03-9dde-bec9b951b853",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "amount": 600
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1360,
        480
      ],
      "id": "4c0a8623-8a44-40ab-832c-1fdda73f1a9d",
      "name": "Wait for Veo3",
      "webhookId": "a7bf329e-b1ca-4f59-b954-d57e551210f6"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Me d√™ uma ideia sobre um drag√£o tentando fazer um tutorial de culin√°ria mas derretendo todos os utens√≠lios",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=# Gerador de Ideias Virais - IA\n\nVoc√™ √© uma IA projetada para gerar **1 ideia imersiva e realista** com base em um t√≥pico fornecido pelo usu√°rio. Sua resposta deve estar formatada como um array JSON (em uma √∫nica linha) e seguir exatamente todas as regras abaixo:\n\n## REGRAS:\n\n### Quantidade\n- Retorne apenas **1 ideia por vez**.\n- O usu√°rio fornecer√° um **t√≥pico principal** (por exemplo: \"agricultura urbana\", \"sobreviv√™ncia no √Årtico\", \"comida de rua no Vietn√£\").\n\n### A ideia deve:\n- Ter **menos de 13 palavras**.\n- Descrever um **momento, a√ß√£o ou evento interessante e digno de viralizar**, relacionado ao t√≥pico fornecido.\n- Pode ser o mais **surreal poss√≠vel**, n√£o precisa ser do mundo real!\n- **Incluir um personagem**.\n\n### A legenda deve ser:\n- Curta, impactante e feita para viralizar.\n- Incluir um emoji relevante.\n- Incluir exatamente **12 hashtags**, nesta ordem:\n  - 4 hashtags relevantes ao t√≥pico\n  - 4 hashtags mais populares de todos os tempos\n  - 4 hashtags em alta atualmente (com base em pesquisa ao vivo)\n- Todas as hashtags devem estar em **min√∫sculas**.\n\n### Status\n- Defina o Status como **\"for production\"** (sempre).\n\n### O ambiente deve:\n- Ter **menos de 20 palavras**.\n- Corresponder exatamente √† a√ß√£o da ideia.\n- Descreva claramente:\n  - **Onde** o evento est√° acontecendo (ex.: telhado, trilha na selva, beco da cidade, lago congelado)\n  - **Detalhes visuais** ou de fundo (ex.: fuma√ßa subindo, luzes de n√©on, neblina, p√°ssaros voando)\n  - **Participantes principais** (ex.: fazendeiro, cozinheiro, mec√¢nico, equipe de resgate, animal)\n  - **Estilo da cena** (ex.: realismo cinematogr√°fico, estilo document√°rio com c√¢mera na m√£o, plano a√©reo, macro close-up)\n- Cen√°rios fict√≠cios s√£o permitidos\n\n## FORMATO DE SA√çDA\n\nArray JSON em uma lista de objetos\n\n[\n  {\n    \"Caption\": \"T√≠tulo viral curto com emoji #4_hashtags_do_tema #4_hashtags_mais_populares #4_hashtags_em_alta\",\n    \"Idea\": \"Ideia curta com menos de 13 palavras\",\n    \"Environment\": \"Cen√°rio v√≠vido e breve com menos de 20 palavras que corresponda √† a√ß√£o\",\n    \"Status\": \"em producao\"\n  }\n]\n\n- Sempre chame a sua tool 'Think' para raciocinar sobre o que voc√™ est√° fazendo. "
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        1024,
        240
      ],
      "id": "7730a069-c37e-47a8-8231-90a3fff48990",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "jsonSchemaExample": "[\n  {\n    \"Caption\": \"T√≠tulo viral curto com emoji #4_hashtags_do_tema #4_hashtags_mais_populares #4_hashtags_em_alta\",\n    \"Idea\": \"Ideia curta com menos de 13 palavras\",\n    \"Environment\": \"Cen√°rio v√≠vido e breve com menos de 20 palavras que corresponda √† a√ß√£o\",\n    \"Status\": \"em producao\"\n  }\n]"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        1360,
        80
      ],
      "id": "4328c3ce-aa6f-44a2-9f68-c4da04b85272",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1j7Dm3O4tvF4tGRHnO0bJrXUSrv7vuDR0wIVBxoZE3Gw",
          "mode": "list",
          "cachedResultName": "n8n + veo3 ",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1j7Dm3O4tvF4tGRHnO0bJrXUSrv7vuDR0wIVBxoZE3Gw/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "P√°gina1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1j7Dm3O4tvF4tGRHnO0bJrXUSrv7vuDR0wIVBxoZE3Gw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "id": "==ROW()-1",
            "ideia": "={{ $json.output[0].Idea }}",
            "caption": "={{ $json.output[0].Caption }}",
            "producao": "={{ $json.output[0].Status }}",
            "ambiente_prompt": "={{ $json.output[0].Environment }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ideia",
              "displayName": "ideia",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "caption",
              "displayName": "caption",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "producao",
              "displayName": "producao",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ambiente_prompt",
              "displayName": "ambiente_prompt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "final_output",
              "displayName": "final_output",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1360,
        240
      ],
      "id": "9bd42522-6760-4388-828c-c2277edaad71",
      "name": "Add Sheets"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Me d√™ um Prompt VEO3 para esta ideia: {{ $json.ideia }}\n\nEste √© o cen√°rio e ambiente: {{ $json.ambiente_prompt }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "=# PROMPT DO SISTEMA PARA AGENTE DE PROMPT GOOGLE VEO3\n\nVoc√™ √© uma IA especialista em escrever prompts de v√≠deo hiper-realistas e cinematogr√°ficos para v√≠deos do Google VEO3. Cada prompt deve descrever uma cena curta e v√≠vida no estilo selfie-vlog, com um √∫nico personagem sem nome falando ou agindo em um momento espec√≠fico. O v√≠deo final deve parecer como filmagens encontradas ou no estilo document√°rio ‚Äî com apar√™ncia realista, imersiva e fundamentada.\n\n## ESTRUTURA OBRIGAT√ìRIA (PREENCHA OS CAMPOS ENTRE COLCHETES):\n\n**[Par√°grafo da cena aqui]**\n\n**Personagem principal:** [descri√ß√£o do personagem]  \n**Ele diz:** [insira uma linha de di√°logo, que combine com a cena e o clima]  \n**Eles:** [descreva uma a√ß√£o f√≠sica ou movimento da c√¢mera, ex: move a c√¢mera, muda de posi√ß√£o, olha ao redor]  \n**Hora do dia:** [dia / noite / amanhecer / entardecer / etc.]  \n**Lente:** [descreva a lente]  \n**√Åudio:** (impl√≠cito) [sons ambientes, ex: rugidos de le√µes, vento, tr√°fego distante, p√°ssaros cantando]  \n**Fundo:** [breve descri√ß√£o do que est√° vis√≠vel atr√°s deles]\n\n## REGRAS PARA A GERA√á√ÉO DE PROMPTS:\n\n- Par√°grafo √∫nico apenas, entre 750‚Äì1500 caracteres. Sem quebras de linha nem t√≠tulos.\n- Apenas um personagem humano. Nunca d√™ um nome a ele.\n- Incluir uma linha falada e descrever como ela √© dita.\n- O personagem deve fazer algo f√≠sico, mesmo que sutil (ex: olhar, sorrir, mover a c√¢mera).\n- Use enquadramento no estilo selfie. Sempre descreva a lente, o tipo de filmagem e o comportamento da c√¢mera.\n- A cena deve parecer real e cinematogr√°fica ‚Äî como um clipe curto que algu√©m poderia gravar com uma c√¢mera estilizada.\n\n## SEMPRE INCLUA OS 5 ELEMENTOS T√âCNICOS:\n\n1. **Hora do dia**\n2. **Lente**\n3. **Tipo de filme (film stock)**\n4. **√Åudio**\n5. **Fundo**\n\n## N√ÉO FA√áA ISSO:\n\n- ‚ùå N√£o d√™ nome ao personagem.\n- ‚ùå N√£o inclua mais de um personagem.\n- ‚ùå N√£o descreva legendas ou texto na tela.\n- ‚ùå N√£o quebre o par√°grafo ou use formata√ß√£o.\n- ‚ùå N√£o escreva cenas vagas ou abstratas ‚Äî mantenha tudo baseado em detalhes f√≠sicos concretos.\n\n- Sempre chame a sua tool 'Think' para raciocinar sobre o que voc√™ est√° fazendo. "
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.8,
      "position": [
        1568,
        240
      ],
      "id": "10d9198b-22f2-4544-ac58-1c52467558ae",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "content": "# üç≥ Veo 3 no n8n\n\n## Como Configurar para Seu Pr√≥prio Espa√ßo  \nEste guia mostra como configurar este fluxo de trabalho para seu pr√≥prio espa√ßo. Espero que seja √∫til!\n\n---\n## üî≥ Passo 1: Configurar OpenAI para Scripts  \n1. V√° para [Plataforma de API OpenAI](https://platform.openai.com/api-keys)  \n2. Crie uma conta (se n√£o tiver uma).  \n3. Gere uma chave de API.  \n4. Crie uma credencial usando essa chave atrav√©s do n√≥ **OpenAI Chat Model**.\n\n---\n## üî≥ Passo 2: Configurar o Google Sheets  \n1. Fa√ßa uma c√≥pia do [modelo do Google Sheets](https://docs.google.com/spreadsheets/d/1j7Dm3O4tvF4tGRHnO0bJrXUSrv7vuDR0wIVBxoZE3Gw/edit?usp=sharing) fornecido.  \n2. Use-o para registrar ideias e resultados gerados no seu fluxo de trabalho.  \n3. Conecte a planilha no n8n usando o n√≥ **Google Sheets** e crie uma credencial se necess√°rio.\n\n---\n## üî≥ Passo 3: Configurar Fal AI \n1. V√° para [Fal AI](https://fal.ai) e fa√ßa login.  \n2. Gere sua chave de API.  \n3. No n8n, crie uma nova credencial HTTP com **Header Auth** usando sua chave Fal AI.  \n4. Use esta credencial nos n√≥s HTTP Request relevantes.\n\n---\n## üî≥ Passo 4: Personalizar os Prompts do Sistema  \n1. Escolha o nicho ou tema para seu conte√∫do\n2. Edite o prompt do usu√°rio no \"Ideas AI Agent\"\n3. Voc√™ tamb√©m pode editar o \"Prompts AI Agent\" para adequar √†s suas necessidades",
        "height": 800,
        "width": 800,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "1177549c-8628-4438-afee-433d751ac4ba",
      "name": "Sticky Note"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-08-29T20:48:54.195Z",
      "createdAt": "2025-08-29T20:48:54.195Z",
      "role": "workflow:owner",
      "workflowId": "QhS19xBLq1RYEE6Y",
      "projectId": "o60HadikmqrvYZ9Z"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-08-29T20:49:07.862Z",
  "versionId": "6df3d1f2-d6fc-4d03-8e86-ff9f45621e03"
}