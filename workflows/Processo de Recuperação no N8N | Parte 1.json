{
  "active": true,
  "activeVersion": {
    "updatedAt": "2025-12-11T22:04:59.725Z",
    "createdAt": "2025-12-11T22:04:59.725Z",
    "versionId": "e1972791-67c8-4576-a6dc-e602ed4550cb",
    "workflowId": "7UjBUefmqK53ZSgy",
    "nodes": [
      {
        "parameters": {
          "mode": "load",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "prompt": "={{ $json.chatInput }}",
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.1,
        "position": [
          180,
          1480
        ],
        "id": "3f069eab-160b-45a7-b18e-915ddffacbc0",
        "name": "Supabase Vector Store"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          200,
          1680
        ],
        "id": "9b2282ae-a721-4687-85e5-bff20d3fc141",
        "name": "Embeddings OpenAI"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $('When chat message received').item.json.chatInput }}",
          "options": {
            "systemMessage": "=You are a helpful assistant\n\n{{ $json.contexto }}"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 1.9,
        "position": [
          1100,
          1480
        ],
        "id": "b4e5e566-e3de-42e7-a3dc-d1dc164cbb44",
        "name": "AI Agent"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          1060,
          1700
        ],
        "id": "bd2e75e8-b4b9-4cf8-85ae-f4be33f3a12b",
        "name": "OpenAI Chat Model"
      },
      {
        "parameters": {
          "sessionIdType": "customKey",
          "sessionKey": "={{ $('When chat message received').item.json.sessionId }}"
        },
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "typeVersion": 1.3,
        "position": [
          1200,
          1720
        ],
        "id": "db7be87b-bd10-47d0-8b9d-0e969746f71b",
        "name": "Simple Memory"
      },
      {
        "parameters": {
          "aggregate": "aggregateAllItemData",
          "options": {}
        },
        "type": "n8n-nodes-base.aggregate",
        "typeVersion": 1,
        "position": [
          600,
          1480
        ],
        "id": "62f5f2d4-4916-4e84-b5dd-c9e615d1b8a3",
        "name": "Aggregate"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "48e7dd48-d50c-4936-9c62-956135902bd8",
                "name": "contexto",
                "value": "=Responda a pergunta do usuário usando essas informações como contexto:\n\n{{ $json.data[0].document.pageContent }}\n-----\n{{ $json.data[1].document.pageContent }}\n-----\n{{ $json.data[2].document.pageContent }}\n-----\n{{ $json.data[3].document.pageContent }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          820,
          1480
        ],
        "id": "73d90646-a831-4820-8cf5-ca821fdf39e6",
        "name": "Edit Fields"
      },
      {
        "parameters": {
          "mode": "load",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "prompt": "=Construir-Medir-Aprender",
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.1,
        "position": [
          520,
          2020
        ],
        "id": "82d9ffab-b3da-45ef-abe9-96d7f60d09ae",
        "name": "Supabase Vector Store1"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          580,
          2200
        ],
        "id": "2805b190-6309-4287-b8f1-5f0fcca082bb",
        "name": "Embeddings OpenAI1"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $('When chat message received').item.json.chatInput }}",
          "options": {
            "systemMessage": "=You are a helpful assistant\n\n{{ $json.contexto }}"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 1.9,
        "position": [
          1220,
          2320
        ],
        "id": "7b614d25-2225-42a1-a213-8cad45010372",
        "name": "AI Agent1"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          1140,
          2500
        ],
        "id": "d8221681-75b1-4ba2-9417-212a32e4b46f",
        "name": "OpenAI Chat Model1"
      },
      {
        "parameters": {
          "sessionIdType": "customKey",
          "sessionKey": "={{ $('When chat message received').item.json.sessionId }}"
        },
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "typeVersion": 1.3,
        "position": [
          1300,
          2500
        ],
        "id": "bb9cabae-0246-4816-b504-b6adde766a0d",
        "name": "Simple Memory1"
      },
      {
        "parameters": {
          "aggregate": "aggregateAllItemData",
          "options": {}
        },
        "type": "n8n-nodes-base.aggregate",
        "typeVersion": 1,
        "position": [
          840,
          2020
        ],
        "id": "d6c91252-a08e-4803-96a8-26bf6179368e",
        "name": "Aggregate1"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "48e7dd48-d50c-4936-9c62-956135902bd8",
                "name": "contexto",
                "value": "=Responda a pergunta do usuário usando essas informações como contexto:\n\n{{ $json.data[0].document.pageContent }}\n-----\n{{ $json.data[1].document.pageContent }}\n-----\n{{ $json.data[2].document.pageContent }}\n-----\n{{ $json.data[3].document.pageContent }}\n",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1000,
          2020
        ],
        "id": "8dab0be6-d188-4f71-b172-b23a77c9a019",
        "name": "Edit Fields1"
      },
      {
        "parameters": {
          "inputText": "=Classifique a mensagem do usuário em: dúvida sobre Startups e duvidas gerais\n\nMensagem do usuário:\n {{ $json.chatInput }}",
          "categories": {
            "categories": [
              {
                "category": "startups",
                "description": "duvidas sobre startup"
              },
              {
                "category": "gerais",
                "description": "duvidas gerais"
              }
            ]
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.textClassifier",
        "typeVersion": 1,
        "position": [
          140,
          2300
        ],
        "id": "4e3063d2-8de8-48b6-8fbe-0a5b517fb7ef",
        "name": "Text Classifier"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
        "typeVersion": 1,
        "position": [
          160,
          2500
        ],
        "id": "98b59d23-cb3d-4ab6-818a-6c3efea9cb63",
        "name": "Groq Chat Model"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "o que é mvp",
          "options": {
            "systemMessage": "You are a helpful assistant\n\nAlways use Supabase Vector Store2 for respond questions about startup"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 1.9,
        "position": [
          700,
          220
        ],
        "id": "c9f4a75c-99b8-4f38-a67e-4e64119b479e",
        "name": "AI Agent2"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          440,
          420
        ],
        "id": "0a4b3872-de4d-49d4-81c2-0b1aac8ba03c",
        "name": "OpenAI Chat Model2"
      },
      {
        "parameters": {
          "sessionIdType": "customKey",
          "sessionKey": "2"
        },
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "typeVersion": 1.3,
        "position": [
          620,
          440
        ],
        "id": "4a0d9ee7-b234-4f5d-bca7-26f6875c1c8b",
        "name": "Simple Memory2"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          1180,
          860
        ],
        "id": "c6cbef79-6e0f-49f1-9bb0-2a5551fbc681",
        "name": "Embeddings OpenAI2"
      },
      {
        "parameters": {
          "description": "Use this tool for respond startup_questions"
        },
        "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
        "typeVersion": 1.1,
        "position": [
          820,
          460
        ],
        "id": "42effe9c-da18-4d87-8ae0-eee8cacff717",
        "name": "Answer questions with a vector store"
      },
      {
        "parameters": {
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.1,
        "position": [
          620,
          640
        ],
        "id": "c46e0c34-466b-443f-a46e-3e4b521c4506",
        "name": "Supabase Vector Store3"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          960,
          620
        ],
        "id": "c9184561-fb96-46c7-830e-1dd56ef9168d",
        "name": "OpenAI Chat Model3"
      },
      {
        "parameters": {
          "options": {
            "systemMessage": "You are a helpful assistant\n\nAlways use Supabase Vector Store2 for respond questions about startup"
          }
        },
        "type": "@n8n/n8n-nodes-langchain.agent",
        "typeVersion": 1.9,
        "position": [
          760,
          2820
        ],
        "id": "49ad7ce8-629c-4b83-b11f-2327fc64b85a",
        "name": "AI Agent3"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          480,
          3060
        ],
        "id": "5b4138be-5272-4fb0-a301-186f832b9979",
        "name": "OpenAI Chat Model4"
      },
      {
        "parameters": {},
        "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
        "typeVersion": 1.3,
        "position": [
          660,
          3080
        ],
        "id": "fb956c76-0c75-4297-a14b-bd172157d6d5",
        "name": "Simple Memory3"
      },
      {
        "parameters": {
          "description": "Use this tool for respond startup_questions",
          "workflowId": {
            "__rl": true,
            "value": "7b2V3cdArBWKit8Q",
            "mode": "id"
          },
          "workflowInputs": {
            "mappingMode": "defineBelow",
            "value": {},
            "matchingColumns": [],
            "schema": [
              {
                "id": "query",
                "displayName": "query",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "canBeUsedToMatch": true,
                "type": "string",
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          }
        },
        "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
        "typeVersion": 2.2,
        "position": [
          1000,
          3040
        ],
        "id": "afc45db7-7387-4f4d-b7ca-b10e56c2bbac",
        "name": "Call n8n Workflow Tool"
      },
      {
        "parameters": {
          "workflowInputs": {
            "values": [
              {
                "name": "query"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.executeWorkflowTrigger",
        "typeVersion": 1.1,
        "position": [
          180,
          3260
        ],
        "id": "ac18b749-6599-49dd-8fb6-02cb6556ce30",
        "name": "When Executed by Another Workflow"
      },
      {
        "parameters": {
          "mode": "load",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "prompt": "={{ $json.query }}",
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.1,
        "position": [
          440,
          3260
        ],
        "id": "9152573d-0895-47a1-8c4f-f30ebfcb5ce3",
        "name": "Supabase Vector Store2"
      },
      {
        "parameters": {
          "aggregate": "aggregateAllItemData",
          "options": {}
        },
        "type": "n8n-nodes-base.aggregate",
        "typeVersion": 1,
        "position": [
          780,
          3260
        ],
        "id": "11595185-cf95-4431-abfe-21ff1fb637d5",
        "name": "Aggregate5"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "bad22bc0-3c3e-4501-8963-127423aedf1e",
                "name": "contexto",
                "value": "=Responda a pergunta do usuário usando as informaçõesa seguir:\n\n{{ $json.data[0].document.pageContent }}\n----------\n{{ $json.data[1].document.pageContent }}\n----------\n{{ $json.data[2].document.pageContent }}\n----------\n{{ $json.data[3].document.pageContent }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1020,
          3260
        ],
        "id": "ce421393-6180-41ab-8e49-97b093fb1233",
        "name": "Edit Fields5"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          380,
          3440
        ],
        "id": "a78676dd-f3bb-4228-88ac-f4a52cefab7b",
        "name": "Embeddings OpenAI7"
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "={{ $('When Executed by Another Workflow').item.json.query }}",
          "messages": {
            "messageValues": [
              {
                "message": "=Você é um especialista em responder perguntas sobre StartUp com o máximo de precisão e uma didática absurdamente boa, de modo que qualquer pessoa consiga entender.\n\n\nSEMPRE responda utilizando analogias de maneira concisa\nNunca invente informações em suas respostas\nSe não tiver informações suficiente, diga que não sabe.\n\n{{ $json.contexto }}\n"
              }
            ]
          }
        },
        "type": "@n8n/n8n-nodes-langchain.chainLlm",
        "typeVersion": 1.6,
        "position": [
          1240,
          3260
        ],
        "id": "92500ec7-d77a-4cf2-ba85-cc69299c74d9",
        "name": "Basic LLM Chain1"
      },
      {
        "parameters": {
          "model": {
            "__rl": true,
            "mode": "list",
            "value": "gpt-4o-mini"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
        "typeVersion": 1.2,
        "position": [
          1260,
          3480
        ],
        "id": "d7563d3d-4841-4cd2-92c5-779d8ca97cd5",
        "name": "OpenAI Chat Model11"
      },
      {
        "parameters": {
          "mode": "retrieve-as-tool",
          "toolName": "startup_knowledge",
          "toolDescription": "retorna informações para perguntas sobre startup",
          "tableName": {
            "__rl": true,
            "value": "documents",
            "mode": "list",
            "cachedResultName": "documents"
          },
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
        "typeVersion": 1.1,
        "position": [
          1180,
          520
        ],
        "id": "f4178c27-9e33-4ea0-9359-494cc9d9ecd8",
        "name": "Supabase Vector Store7"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
        "typeVersion": 1.2,
        "position": [
          660,
          900
        ],
        "id": "9a02d3c1-c6f3-4dce-94cc-37b6701fc1b1",
        "name": "Embeddings OpenAI4"
      },
      {
        "parameters": {
          "content": "# Recuperação via tool\nFazemos a busca diretamente no vector store\nou usamos o sistema de pergunta e resposta\ncom um modelo de linguagem",
          "height": 1120,
          "width": 1520,
          "color": 5
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          60,
          60
        ],
        "typeVersion": 1,
        "id": "ec550dc8-9435-4369-aaff-8bca2ba81535",
        "name": "Sticky Note"
      },
      {
        "parameters": {
          "content": "# Recuperação no fluxo\nFazemos a busca no fluxo e entregamos\nos chunks como contexto para o agente",
          "height": 740,
          "width": 1520,
          "color": 4
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          60,
          1180
        ],
        "typeVersion": 1,
        "id": "a045252d-5744-4333-8343-a2da2d34d761",
        "name": "Sticky Note1"
      },
      {
        "parameters": {
          "content": "# Recuperação no fluxo com Classifier\nFazemos a busca no fluxo caso o classifier\ndetermine que é necessário o contexto do\nRAG para responder o usuário e entregamos\nos chunks como contexto para o agente",
          "height": 740,
          "width": 1520,
          "color": 4
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          60,
          1920
        ],
        "typeVersion": 1,
        "id": "8808da15-00a7-4c1a-9fff-0ca30503f1a2",
        "name": "Sticky Note2"
      },
      {
        "parameters": {
          "content": "# Recuperação via tool em outro fluxo\nFazemos a busca quando solicitado pelo\nagente em outro fluxo, essa abordagem\npermite mais liberdade no tratamento\nda query e nos dados retornados.\nTambém serve como base para outras\ntécnicas avançadas, como self query\ne query transformation",
          "height": 1000,
          "width": 1520,
          "color": 3
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          60,
          2660
        ],
        "typeVersion": 1,
        "id": "468360ad-be55-48dd-a3ba-f5e3949653f3",
        "name": "Sticky Note3"
      }
    ],
    "connections": {
      "Embeddings OpenAI": {
        "ai_embedding": [
          [
            {
              "node": "Supabase Vector Store",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      },
      "Supabase Vector Store": {
        "main": [
          [
            {
              "node": "Aggregate",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Simple Memory": {
        "ai_memory": [
          [
            {
              "node": "AI Agent",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "Aggregate": {
        "main": [
          [
            {
              "node": "Edit Fields",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields": {
        "main": [
          [
            {
              "node": "AI Agent",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Supabase Vector Store1": {
        "main": [
          [
            {
              "node": "Aggregate1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Embeddings OpenAI1": {
        "ai_embedding": [
          [
            {
              "node": "Supabase Vector Store1",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model1": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent1",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Simple Memory1": {
        "ai_memory": [
          [
            {
              "node": "AI Agent1",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "Aggregate1": {
        "main": [
          [
            {
              "node": "Edit Fields1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields1": {
        "main": [
          [
            {
              "node": "AI Agent1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Groq Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "Text Classifier",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Text Classifier": {
        "main": [
          [
            {
              "node": "Supabase Vector Store1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "AI Agent1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model2": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent2",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Simple Memory2": {
        "ai_memory": [
          [
            {
              "node": "AI Agent2",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "Embeddings OpenAI2": {
        "ai_embedding": [
          [
            {
              "node": "Supabase Vector Store7",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      },
      "Answer questions with a vector store": {
        "ai_tool": [
          [
            {
              "node": "AI Agent2",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "Supabase Vector Store3": {
        "ai_vectorStore": [
          [
            {
              "node": "Answer questions with a vector store",
              "type": "ai_vectorStore",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model3": {
        "ai_languageModel": [
          [
            {
              "node": "Answer questions with a vector store",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model4": {
        "ai_languageModel": [
          [
            {
              "node": "AI Agent3",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Simple Memory3": {
        "ai_memory": [
          [
            {
              "node": "AI Agent3",
              "type": "ai_memory",
              "index": 0
            }
          ]
        ]
      },
      "Call n8n Workflow Tool": {
        "ai_tool": [
          [
            {
              "node": "AI Agent3",
              "type": "ai_tool",
              "index": 0
            }
          ]
        ]
      },
      "When Executed by Another Workflow": {
        "main": [
          [
            {
              "node": "Supabase Vector Store2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Supabase Vector Store2": {
        "main": [
          [
            {
              "node": "Aggregate5",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Aggregate5": {
        "main": [
          [
            {
              "node": "Edit Fields5",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Embeddings OpenAI7": {
        "ai_embedding": [
          [
            {
              "node": "Supabase Vector Store2",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields5": {
        "main": [
          [
            {
              "node": "Basic LLM Chain1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "OpenAI Chat Model11": {
        "ai_languageModel": [
          [
            {
              "node": "Basic LLM Chain1",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "Embeddings OpenAI4": {
        "ai_embedding": [
          [
            {
              "node": "Supabase Vector Store3",
              "type": "ai_embedding",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "system migration",
    "name": null,
    "description": null,
    "autosaved": false
  },
  "activeVersionId": "e1972791-67c8-4576-a6dc-e602ed4550cb",
  "connections": {
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store1": {
      "main": [
        [
          {
            "node": "Aggregate1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI1": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate1": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Groq Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Text Classifier",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Text Classifier": {
      "main": [
        [
          {
            "node": "Supabase Vector Store1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI2": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store7",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Answer questions with a vector store": {
      "ai_tool": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store3": {
      "ai_vectorStore": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "Answer questions with a vector store",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory3": {
      "ai_memory": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Call n8n Workflow Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent3",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "Supabase Vector Store2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store2": {
      "main": [
        [
          {
            "node": "Aggregate5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate5": {
      "main": [
        [
          {
            "node": "Edit Fields5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI7": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store2",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields5": {
      "main": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model11": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI4": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store3",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-02T19:14:06.998Z",
  "id": "7UjBUefmqK53ZSgy",
  "isArchived": false,
  "meta": null,
  "name": "Processo de Recuperação no N8N | Parte 1",
  "nodes": [
    {
      "parameters": {
        "mode": "load",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "prompt": "={{ $json.chatInput }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        180,
        1480
      ],
      "id": "3f069eab-160b-45a7-b18e-915ddffacbc0",
      "name": "Supabase Vector Store"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        200,
        1680
      ],
      "id": "9b2282ae-a721-4687-85e5-bff20d3fc141",
      "name": "Embeddings OpenAI"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('When chat message received').item.json.chatInput }}",
        "options": {
          "systemMessage": "=You are a helpful assistant\n\n{{ $json.contexto }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1100,
        1480
      ],
      "id": "b4e5e566-e3de-42e7-a3dc-d1dc164cbb44",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1060,
        1700
      ],
      "id": "bd2e75e8-b4b9-4cf8-85ae-f4be33f3a12b",
      "name": "OpenAI Chat Model"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('When chat message received').item.json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1200,
        1720
      ],
      "id": "db7be87b-bd10-47d0-8b9d-0e969746f71b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        600,
        1480
      ],
      "id": "62f5f2d4-4916-4e84-b5dd-c9e615d1b8a3",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "48e7dd48-d50c-4936-9c62-956135902bd8",
              "name": "contexto",
              "value": "=Responda a pergunta do usuário usando essas informações como contexto:\n\n{{ $json.data[0].document.pageContent }}\n-----\n{{ $json.data[1].document.pageContent }}\n-----\n{{ $json.data[2].document.pageContent }}\n-----\n{{ $json.data[3].document.pageContent }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        820,
        1480
      ],
      "id": "73d90646-a831-4820-8cf5-ca821fdf39e6",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "mode": "load",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "prompt": "=Construir-Medir-Aprender",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        520,
        2020
      ],
      "id": "82d9ffab-b3da-45ef-abe9-96d7f60d09ae",
      "name": "Supabase Vector Store1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        580,
        2200
      ],
      "id": "2805b190-6309-4287-b8f1-5f0fcca082bb",
      "name": "Embeddings OpenAI1"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('When chat message received').item.json.chatInput }}",
        "options": {
          "systemMessage": "=You are a helpful assistant\n\n{{ $json.contexto }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        1220,
        2320
      ],
      "id": "7b614d25-2225-42a1-a213-8cad45010372",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1140,
        2500
      ],
      "id": "d8221681-75b1-4ba2-9417-212a32e4b46f",
      "name": "OpenAI Chat Model1"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('When chat message received').item.json.sessionId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        1300,
        2500
      ],
      "id": "bb9cabae-0246-4816-b504-b6adde766a0d",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        840,
        2020
      ],
      "id": "d6c91252-a08e-4803-96a8-26bf6179368e",
      "name": "Aggregate1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "48e7dd48-d50c-4936-9c62-956135902bd8",
              "name": "contexto",
              "value": "=Responda a pergunta do usuário usando essas informações como contexto:\n\n{{ $json.data[0].document.pageContent }}\n-----\n{{ $json.data[1].document.pageContent }}\n-----\n{{ $json.data[2].document.pageContent }}\n-----\n{{ $json.data[3].document.pageContent }}\n",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1000,
        2020
      ],
      "id": "8dab0be6-d188-4f71-b172-b23a77c9a019",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "inputText": "=Classifique a mensagem do usuário em: dúvida sobre Startups e duvidas gerais\n\nMensagem do usuário:\n {{ $json.chatInput }}",
        "categories": {
          "categories": [
            {
              "category": "startups",
              "description": "duvidas sobre startup"
            },
            {
              "category": "gerais",
              "description": "duvidas gerais"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.textClassifier",
      "typeVersion": 1,
      "position": [
        140,
        2300
      ],
      "id": "4e3063d2-8de8-48b6-8fbe-0a5b517fb7ef",
      "name": "Text Classifier"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [
        160,
        2500
      ],
      "id": "98b59d23-cb3d-4ab6-818a-6c3efea9cb63",
      "name": "Groq Chat Model"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "o que é mvp",
        "options": {
          "systemMessage": "You are a helpful assistant\n\nAlways use Supabase Vector Store2 for respond questions about startup"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        700,
        220
      ],
      "id": "c9f4a75c-99b8-4f38-a67e-4e64119b479e",
      "name": "AI Agent2"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        440,
        420
      ],
      "id": "0a4b3872-de4d-49d4-81c2-0b1aac8ba03c",
      "name": "OpenAI Chat Model2"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "2"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        620,
        440
      ],
      "id": "4a0d9ee7-b234-4f5d-bca7-26f6875c1c8b",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        1180,
        860
      ],
      "id": "c6cbef79-6e0f-49f1-9bb0-2a5551fbc681",
      "name": "Embeddings OpenAI2"
    },
    {
      "parameters": {
        "description": "Use this tool for respond startup_questions"
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1.1,
      "position": [
        820,
        460
      ],
      "id": "42effe9c-da18-4d87-8ae0-eee8cacff717",
      "name": "Answer questions with a vector store"
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        620,
        640
      ],
      "id": "c46e0c34-466b-443f-a46e-3e4b521c4506",
      "name": "Supabase Vector Store3"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        960,
        620
      ],
      "id": "c9184561-fb96-46c7-830e-1dd56ef9168d",
      "name": "OpenAI Chat Model3"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "You are a helpful assistant\n\nAlways use Supabase Vector Store2 for respond questions about startup"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.9,
      "position": [
        760,
        2820
      ],
      "id": "49ad7ce8-629c-4b83-b11f-2327fc64b85a",
      "name": "AI Agent3"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        480,
        3060
      ],
      "id": "5b4138be-5272-4fb0-a301-186f832b9979",
      "name": "OpenAI Chat Model4"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        660,
        3080
      ],
      "id": "fb956c76-0c75-4297-a14b-bd172157d6d5",
      "name": "Simple Memory3"
    },
    {
      "parameters": {
        "description": "Use this tool for respond startup_questions",
        "workflowId": {
          "__rl": true,
          "value": "7b2V3cdArBWKit8Q",
          "mode": "id"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "query",
              "displayName": "query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        1000,
        3040
      ],
      "id": "afc45db7-7387-4f4d-b7ca-b10e56c2bbac",
      "name": "Call n8n Workflow Tool"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "query"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        180,
        3260
      ],
      "id": "ac18b749-6599-49dd-8fb6-02cb6556ce30",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "mode": "load",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "prompt": "={{ $json.query }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        440,
        3260
      ],
      "id": "9152573d-0895-47a1-8c4f-f30ebfcb5ce3",
      "name": "Supabase Vector Store2"
    },
    {
      "parameters": {
        "aggregate": "aggregateAllItemData",
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        780,
        3260
      ],
      "id": "11595185-cf95-4431-abfe-21ff1fb637d5",
      "name": "Aggregate5"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bad22bc0-3c3e-4501-8963-127423aedf1e",
              "name": "contexto",
              "value": "=Responda a pergunta do usuário usando as informaçõesa seguir:\n\n{{ $json.data[0].document.pageContent }}\n----------\n{{ $json.data[1].document.pageContent }}\n----------\n{{ $json.data[2].document.pageContent }}\n----------\n{{ $json.data[3].document.pageContent }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1020,
        3260
      ],
      "id": "ce421393-6180-41ab-8e49-97b093fb1233",
      "name": "Edit Fields5"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        380,
        3440
      ],
      "id": "a78676dd-f3bb-4228-88ac-f4a52cefab7b",
      "name": "Embeddings OpenAI7"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('When Executed by Another Workflow').item.json.query }}",
        "messages": {
          "messageValues": [
            {
              "message": "=Você é um especialista em responder perguntas sobre StartUp com o máximo de precisão e uma didática absurdamente boa, de modo que qualquer pessoa consiga entender.\n\n\nSEMPRE responda utilizando analogias de maneira concisa\nNunca invente informações em suas respostas\nSe não tiver informações suficiente, diga que não sabe.\n\n{{ $json.contexto }}\n"
            }
          ]
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.6,
      "position": [
        1240,
        3260
      ],
      "id": "92500ec7-d77a-4cf2-ba85-cc69299c74d9",
      "name": "Basic LLM Chain1"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4o-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1260,
        3480
      ],
      "id": "d7563d3d-4841-4cd2-92c5-779d8ca97cd5",
      "name": "OpenAI Chat Model11"
    },
    {
      "parameters": {
        "mode": "retrieve-as-tool",
        "toolName": "startup_knowledge",
        "toolDescription": "retorna informações para perguntas sobre startup",
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1.1,
      "position": [
        1180,
        520
      ],
      "id": "f4178c27-9e33-4ea0-9359-494cc9d9ecd8",
      "name": "Supabase Vector Store7"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        660,
        900
      ],
      "id": "9a02d3c1-c6f3-4dce-94cc-37b6701fc1b1",
      "name": "Embeddings OpenAI4"
    },
    {
      "parameters": {
        "content": "# Recuperação via tool\nFazemos a busca diretamente no vector store\nou usamos o sistema de pergunta e resposta\ncom um modelo de linguagem",
        "height": 1120,
        "width": 1520,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        60
      ],
      "typeVersion": 1,
      "id": "ec550dc8-9435-4369-aaff-8bca2ba81535",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "# Recuperação no fluxo\nFazemos a busca no fluxo e entregamos\nos chunks como contexto para o agente",
        "height": 740,
        "width": 1520,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        1180
      ],
      "typeVersion": 1,
      "id": "a045252d-5744-4333-8343-a2da2d34d761",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "# Recuperação no fluxo com Classifier\nFazemos a busca no fluxo caso o classifier\ndetermine que é necessário o contexto do\nRAG para responder o usuário e entregamos\nos chunks como contexto para o agente",
        "height": 740,
        "width": 1520,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        1920
      ],
      "typeVersion": 1,
      "id": "8808da15-00a7-4c1a-9fff-0ca30503f1a2",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "# Recuperação via tool em outro fluxo\nFazemos a busca quando solicitado pelo\nagente em outro fluxo, essa abordagem\npermite mais liberdade no tratamento\nda query e nos dados retornados.\nTambém serve como base para outras\ntécnicas avançadas, como self query\ne query transformation",
        "height": 1000,
        "width": 1520,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        60,
        2660
      ],
      "typeVersion": 1,
      "id": "468360ad-be55-48dd-a3ba-f5e3949653f3",
      "name": "Sticky Note3"
    }
  ],
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "query": "O que é MVP?"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "shared": [
    {
      "updatedAt": "2025-07-02T19:14:06.998Z",
      "createdAt": "2025-07-02T19:14:06.998Z",
      "role": "workflow:owner",
      "workflowId": "7UjBUefmqK53ZSgy",
      "projectId": "o60HadikmqrvYZ9Z"
    }
  ],
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-07-02T19:14:06.998Z",
  "versionId": "e1972791-67c8-4576-a6dc-e602ed4550cb"
}